<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<div class="ui-g">
    <div style="width: 100%;">
      <p-panel header="RESUMEN">
          <div class="p-grid  p-mt-3 p-jc-evenly colorsitos colorfondo">
              <div class="col-md-10 ">
                  <div class="row ">
                      <div class="col-xl-4 col-lg-6">
                          <div class="card l-bg-blue1-dark">
                              <div class="card-statistic-3 p-3">
                                <div class="card-icon card-icon-large"></div>
                                <div class="mb-4">
                                    <h5 class="card-title mb-0">Numero de casos</h5>
                                </div>
                                <div class="row align-items-center mb-2 d-flex">
                                  <div class="col-4 text-right">
                                      <span class="tamañotexto">{{this.NoCasosMedicos}}</span>
                                  </div>
                                </div>
                              </div>
                          </div>
                      </div>
                      <div class="col-xl-4 col-lg-6">
                          <div class="card l-bg-blue2-dark">
                              <div class="card-statistic-3 p-3">
                                  <div class="card-icon card-icon-large"></div>
                                  <div class="mb-4">
                                      <h5 class="card-title mb-0">Casos abiertos</h5>
                                  </div>
                                  <div class="row align-items-center mb-2 d-flex">
                                    <div class="col-4 text-right">
                                        <span class="tamañotexto">{{this.casosAbiertos}}</span>
                                    </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <div class="col-xl-4 col-lg-6">
                          <div class="card l-bg-blue3-dark">
                              <div class="card-statistic-3 p-3">
                                  <div class="card-icon card-icon-large"><i class="fas fa-dollar-sign"></i></div>
                                  <div class="mb-4">
                                      <h5 class="card-title mb-0">Casos cerrados</h5>
                                  </div>
                                  <div class="row align-items-center mb-2 d-flex">
                                      <div class="col-4 text-left">
                                          <span class="tamañotexto">{{this.casosPrioritarios}}</span>
                                      </div>                                     
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
              <div class="p-col-6 p-mt-6 mid-border">
                  <div class="p-d-flex p-jc-evenly">
                      <div class="p-d-flex"><p class="p-m-0">Area : </p> <p-dropdown appendTo="body" [options]="divisiones3" placeholder="Seleccionar división" (onChange)="changeCard($event)" ></p-dropdown></div>
                      <div class="p-d-flex">  
                          <i style="font-size:24px" class="fa">&#xf073;</i>   
                          <p-calendar [locale]="localeES" view="month" dateFormat="mm/yy" placeholder="Desde" appendTo="body"> </p-calendar> 
                      </div>
                      <div class="p-d-flex"> 
                          <i style="font-size:24px" class="fa">&#xf073;</i> 
                          <p-calendar [locale]="localeES" view="month" dateFormat="mm/yy" placeholder="Hasta" appendTo="body"> </p-calendar>
                      </div>
                  </div>
              </div>
          </div>
      </p-panel>
      <br/>
      <p-panel header="TOTAL CASOS Y DIAGNOSTICO" >
        <div class="colorfondo">
          <div class="ui-g">
            <p> <b> Casos medicos </b></p>
            <div class="ui-g-12">&nbsp;</div>
            <div class="ui-g-12 ui-sm-12 ui-md-12 align-items-center" style="height: 10cm;">
              <ngx-charts-advanced-pie-chart
              class="align-items-center"
              [scheme]="colorScheme"
              [results]="randomEv1Dona"
              [gradient]="true">
              </ngx-charts-advanced-pie-chart>
            </div>
            <div class="ui-g-3">&nbsp;</div>
            <div class="ui-g-6">
              <div class="ui-g-6">  
                <i style="font-size:24px" class="fa">&#xf073;</i>   
                <p-calendar [locale]="localeES" view="month" dateFormat="mm/yy"  placeholder="Desde" appendTo="body"> </p-calendar> 
              </div>
              <div class="ui-g-6"> 
                <i style="font-size:24px" class="fa">&#xf073;</i> 
                <p-calendar [locale]="localeES" view="month" dateFormat="mm/yy"  placeholder="Hasta" appendTo="body"> </p-calendar>
              </div>
            </div>
          </div>
        </div>
      </p-panel>
      <br/>
      <p-panel header="Casos medicos">
        <div class="ui-g" *ngIf="flag1">
        <!-- Primera grafica -->
          <p><b>
            <ng-container *ngIf="selectIndicarores1.length>0">
              <ng-container *ngFor="let ret of selectIndicarores1;first as f;last as l">
                <ng-container *ngIf="f ;else otro1">
                  {{ret.label}}
                </ng-container>
                <ng-template #otro1>
                  /{{ret.label}}
                </ng-template>
              </ng-container>
            </ng-container>
            <ng-container *ngIf="selectIndicarores1.length==0">
              <ng-container *ngFor="let ret of Indicadores;first as f;last as l">
                <ng-container *ngIf="f ;else otro1">
                  {{ret.label}}
                </ng-container>
                <ng-template #otro1>
                  /{{ret.label}}
                </ng-template>
              </ng-container>
            </ng-container>
          </b></p>

          <div class="ui-g-12">&nbsp;</div>
          <div  class="ui-g-8 ui-g-nopad">
            <div class="ui-g-11 ui-sm-11 ui-md-11 ui-g-nopad grafic">
                <ngx-charts-bar-vertical-2d 
                [scheme]="colorScheme"
                [results]="randomIn1Div"
                [gradient]="true"
                [xAxis]="true"
                [yAxis]="true"
                [legend]="false"
                [showXAxisLabel]="true"
                [showYAxisLabel]="true"
                [xAxisLabel]="'casos'"
                [yAxisLabel]="'No. Casos'"
                [barPadding]=0
                [groupPadding]=4
                [showDataLabel]="false"
                [tooltipDisabled]="false">
                </ngx-charts-bar-vertical-2d>
            </div>
            <div class="ui-g-1">&nbsp;</div>
            <div class="ui-g-2">&nbsp;</div>
            <div class="ui-g-8">
              <div class="ui-g-6">  
                <i style="font-size:24px" class="fa">&#xf073;</i>   
                <p-calendar [locale]="localeES" view="month" dateFormat="mm/yy" placeholder="Desde" appendTo="body"> </p-calendar> 
              </div>
              <div class="ui-g-6"> 
                <i style="font-size:24px" class="fa">&#xf073;</i> 
                <p-calendar [locale]="localeES" view="month" dateFormat="mm/yy" placeholder="Hasta" appendTo="body"> </p-calendar>
              </div>
            </div>
          </div>
  
          <div class="ui-g-4 ui-sm-12 ui-md-4 align-items-center justify-content-md-center filter">
            <h5>Division</h5>
            <div *ngFor="let category of divisiones" class="p-field-checkbox">
              <p-checkbox name="group1" value="category" [value]="category"  [(ngModel)]="selectDivisiones1" [inputId]="category.value" (click)="selectCas1()"></p-checkbox>
              <label>{{category.label}}</label>
            </div>
            <h5>Filtro casos</h5>
            <div *ngFor="let Indicador of Indicadores" class="p-field-checkbox">
              <p-checkbox name="group2" value="Indicador" [value]="Indicador"  [(ngModel)]="selectIndicarores1" [inputId]="Indicador.value" (click)="selectCas1()"></p-checkbox>
              <label>{{Indicador.label}}</label>
            </div>
          </div>

        </div>
        <hr/>
        <div class="ui-g" *ngIf="flag2">
          <p><b>
            <ng-container *ngIf="selectIndicarores2.length>0">
              <ng-container *ngFor="let ret of selectIndicarores2;first as f;last as l">
                <ng-container *ngIf="f ;else otro1">
                  {{ret.label}}
                </ng-container>
                <ng-template #otro1>
                  /{{ret.label}}
                </ng-template>
              </ng-container>
            </ng-container>
            <ng-container *ngIf="selectIndicarores2.length==0">
              <ng-container *ngFor="let ret of Indicadores;first as f;last as l">
                <ng-container *ngIf="f ;else otro1">
                  {{ret.label}}
                </ng-container>
                <ng-template #otro1>
                  /{{ret.label}}
                </ng-template>
              </ng-container>
            </ng-container>
          </b></p>

          <div class="ui-g-12">&nbsp;</div>
  
          <div  class="ui-g-8 ui-g-nopad">
            <div class="ui-g-11 ui-sm-11 ui-md-11 ui-g-nopad grafic">
              <ngx-charts-bar-vertical-2d
              class="align-items-center"
              [scheme]="colorScheme"
              [results]="randomIn1Mes"
              [gradient]="true"
              [xAxis]="true"
              [yAxis]="true"
              [legend]="false"
              [showXAxisLabel]="true"
              [showYAxisLabel]="true"
              [xAxisLabel]="'Meses'"
              [yAxisLabel]="'No. Casos'"
              [showDataLabel]="false"
              [barPadding]=0
              [groupPadding]=4
              [tooltipDisabled]="false">
              </ngx-charts-bar-vertical-2d>
            </div>
            <div class="ui-g-1">&nbsp;</div>
            <div class="ui-g-2">&nbsp;</div>
            <div class="ui-g-8">
                <div class="ui-g-6">  
                    <i style="font-size:24px" class="fa">&#xf073;</i>   
                    <p-calendar [locale]="localeES" view="month" dateFormat="mm/yy" placeholder="Desde" appendTo="body"> </p-calendar> 
                </div>
                <div class="ui-g-6"> 
                    <i style="font-size:24px" class="fa">&#xf073;</i> 
                    <p-calendar [locale]="localeES" view="month" dateFormat="mm/yy" placeholder="Hasta" appendTo="body"> </p-calendar>
                </div>
            </div>
          </div>
  
  
          <div class="ui-g-4 ui-sm-12 ui-md-4 align-items-center justify-content-md-center filter">
            <h5>Año</h5>
            <p-dropdown appendTo="body" [options]="yearRange" placeholder="2022" (onChange)="chageYear()" [(ngModel)]="selectYear1"></p-dropdown>
            <h5>Meses</h5>
            <p-multiSelect defaultLabel="Seleccione" [options]="Meses2" optionLabel="name" [(ngModel)]="selectMeses1" (click)="chageYear()"></p-multiSelect>
            <h5>Division</h5>
            <p-multiSelect defaultLabel="Seleccione" [options]="divisiones2" optionLabel="name" (click)="chageYear()" [(ngModel)]="selectDiv1"></p-multiSelect>
            <h5>Filtro casos</h5>
            <div *ngFor="let Indicador of Indicadores" class="p-field-checkbox">
                <p-checkbox name="group4" value="Indicador" [value]="Indicador"  [(ngModel)]="selectIndicarores2" [inputId]="Indicador.value" (click)="chageYear()"></p-checkbox>
                <label>{{Indicador.label}}</label>
            </div>
          </div>
        </div>
        
      </p-panel>
      <br/>
      <p-panel header="RETORNO - DIAGNOSTICO">
        <div class="ui-g" *ngIf="flag3">

          <p><b>
            <ng-container *ngIf="selectRetorno.length>0">
              <ng-container *ngFor="let ret of selectRetorno;first as f;last as l">
                <ng-container *ngIf="f ;else otro1">
                  {{ret.label}}
                </ng-container>
                <ng-template #otro1>
                  /{{ret.label}}
                </ng-template>
              </ng-container>
            </ng-container>
            <ng-container *ngIf="selectRetorno.length==0">
              <ng-container *ngFor="let ret of Retorno;first as f;last as l">
                <ng-container *ngIf="f ;else otro1">
                  {{ret.label}}
                </ng-container>
                <ng-template #otro1>
                  /{{ret.label}}
                </ng-template>
              </ng-container>
            </ng-container>
          </b></p>

          <div class="ui-g-12">&nbsp;</div>
  
          <div  class="ui-g-8 ui-g-nopad">
            <div class="ui-g-11 ui-sm-11 ui-md-11 ui-g-nopad grafic">
              <ngx-charts-bar-vertical-2d
              class="align-items-center"
              [scheme]="colorScheme"
              [results]="randomRetorno"
              [gradient]="true"
              [xAxis]="true"
              [yAxis]="true"
              [legend]="false"
              [showXAxisLabel]="true"
              [showYAxisLabel]="true"
              [xAxisLabel]="'Retorno'"
              [yAxisLabel]="'No. Casos'"
              [showDataLabel]="false"
              [barPadding]=0
              [groupPadding]=4
              [tooltipDisabled]="false">
              </ngx-charts-bar-vertical-2d>
            </div>
            <div class="ui-g-1">&nbsp;</div>
            <div class="ui-g-2">&nbsp;</div>
            <div class="ui-g-8">
                <div class="ui-g-6">  
                    <i style="font-size:24px" class="fa">&#xf073;</i>   
                    <p-calendar [locale]="localeES" view="month" dateFormat="mm/yy" placeholder="Desde" appendTo="body"> </p-calendar> 
                </div>
                <div class="ui-g-6"> 
                    <i style="font-size:24px" class="fa">&#xf073;</i> 
                    <p-calendar [locale]="localeES" view="month" dateFormat="mm/yy" placeholder="Hasta" appendTo="body"> </p-calendar>
                </div>
            </div>
          </div>
  
  
          <div class="ui-g-4 ui-sm-12 ui-md-4 align-items-center justify-content-md-center filter">
            <h5>Año</h5>
            <p-dropdown appendTo="body" [options]="yearRange" placeholder="2022" [(ngModel)]="selectYear2" (onChange)="chageYear2()"></p-dropdown>
            <h5>Meses</h5>
            <p-multiSelect defaultLabel="Seleccione" [options]="Meses2" optionLabel="name" (click)="chageYear2()" [(ngModel)]="selectMeses2"></p-multiSelect>
            <h5>Filtro retornos</h5>
            <div *ngFor="let retorno of Retorno" class="p-field-checkbox">
                <p-checkbox name="group4" value="retorno" [value]="retorno"  [(ngModel)]="selectRetorno" [inputId]="retorno.value" (click)="chageYear2()"></p-checkbox>
                <label>{{retorno.label}}</label>
            </div>
          </div>
        </div>
        <hr>

        <div class="ui-g" *ngIf="flag4">

          <p><b>
            <ng-container *ngIf="selectSindrome.length>0 && selectSindrome.length<4">
              <ng-container *ngFor="let ret of selectSindrome;first as f;last as l">
                <ng-container *ngIf="f ;else otro1">
                  {{ret.name}}
                </ng-container>
                <ng-template #otro1>
                  /{{ret.name}}
                </ng-template>
              </ng-container>
            </ng-container>
            <ng-container *ngIf="selectSindrome.length==0 || selectSindrome.length>=4">
              Diagnosticos
            </ng-container>
          </b></p>

          <div class="ui-g-12">&nbsp;</div>
  
          <div  class="ui-g-8 ui-g-nopad">
            <div class="ui-g-11 ui-sm-11 ui-md-11 ui-g-nopad grafic">
              <ngx-charts-bar-vertical-2d
              class="align-items-center"
              [scheme]="colorScheme"
              [results]="randomSindrome"
              [gradient]="true"
              [xAxis]="true"
              [yAxis]="true"
              [legend]="false"
              [showXAxisLabel]="true"
              [showYAxisLabel]="true"
              [xAxisLabel]="'Sindrome'"
              [yAxisLabel]="'No. Casos'"
              [showDataLabel]="false"
              [barPadding]=0
              [groupPadding]=4
              [tooltipDisabled]="false">
              </ngx-charts-bar-vertical-2d>
            </div>
            <div class="ui-g-1">&nbsp;</div>
            <div class="ui-g-2">&nbsp;</div>
            <div class="ui-g-8">
                <div class="ui-g-6">  
                    <i style="font-size:24px" class="fa">&#xf073;</i>   
                    <p-calendar [locale]="localeES" view="month" dateFormat="mm/yy" placeholder="Desde" appendTo="body"> </p-calendar> 
                </div>
                <div class="ui-g-6"> 
                    <i style="font-size:24px" class="fa">&#xf073;</i> 
                    <p-calendar [locale]="localeES" view="month" dateFormat="mm/yy" placeholder="Hasta" appendTo="body"> </p-calendar>
                </div>
            </div>
          </div>
          <div class="ui-g-4 ui-sm-12 ui-md-4 align-items-center justify-content-md-center filter">
            <h5>Año</h5>
            <p-dropdown appendTo="body" [options]="yearRange" placeholder="2022" [(ngModel)]="selectYear3" (onChange)="chageYear3()"></p-dropdown>
            <h5>Meses</h5>
            <p-multiSelect defaultLabel="Seleccione" [options]="Meses2" optionLabel="name" (click)="chageYear3()" [(ngModel)]="selectMeses3"></p-multiSelect>
            <h5>Filtro diagnosticos</h5>
            <p-multiSelect defaultLabel="Seleccione" [options]="Sindrome" optionLabel="name" [(ngModel)]="selectSindrome" (click)="chageYear3()"></p-multiSelect>
            <!-- <div *ngFor="let retorno of Sindrome" class="p-field-checkbox">
                <p-checkbox name="group4" value="retorno" [value]="retorno"  [(ngModel)]="selectSindrome" [inputId]="retorno.value"></p-checkbox>
                <label>{{retorno.label}}</label>
            </div> -->
          </div>
        </div>
      </p-panel>
  </div>
</div>