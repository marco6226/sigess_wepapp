<p-growl [value]="msgs"></p-growl>

<p-panel header="CARGA ARCHIVO REPORTES AT">
  <p-radioButton name="tipoReporte" value="ACCIDENTE" label="Accidente" [(ngModel)]="tipoReporte" required></p-radioButton>
  <p-radioButton name="tipoReporte" value="INCIDENTE" label="Incidente" [(ngModel)]="tipoReporte" required></p-radioButton>

  <br/>
  <input type="file" #fileChooser (change)="onFileSelect(fileChooser.files)" style="display: none;" onclick="this.value=null;"/>
  <table *ngIf="cargando">
    <tr>
      <td>
        <p-progressSpinner strokeWidth="8" [style]="{width: '35px', height: '35px'}" strokeWidth="8" animationDuration=".5s"></p-progressSpinner>
      </td>
      <td>Cargando archivo {{file?.name}}</td>
    </tr>
  </table>
  <button *ngIf="!cargando" pButton type="button" icon="fa fa fa-upload" (click)="fileChooser.click()" label="Cargar archivo"
    [disabled]="!tipoReporte"></button>
</p-panel>

<p-panel *ngIf="idEmpresa == '3'">
    


<script src="script/diagram-common.ts"></script>
<!-- <ejs-symbolpalette id="symbolpalette"width="100%" height="700px"></ejs-symbolpalette> -->
<style>
    .e-symbolpalette {
        display: block;
    }
</style>
<div class="control-section">
    <div style="width: 100%">
        <div class="sb-mobile-palette-bar">
            <div id="palette-icon" style="float: right;" role="button" class="e-ddb-icons1 e-toggle-palette"></div>
        </div>
        <div id="palette-space" class="sb-mobile-palette">
            <ejs-symbolpalette id="symbolpalette" [expandMode]='expandMode' [palettes]='palettes' width="100%" height="700px" [symbolHeight]=60 [symbolWidth]=60 [symbolMargin]='symbolMargin' [getSymbolInfo]='getSymbolInfo' [getNodeDefaults]='getSymbolDefaults'>
            </ejs-symbolpalette>
        </div>
        <div id="diagram-space" class="sb-mobile-diagram">
            <div class="content-wrapper">
                <ejs-diagram #diagram id="diagram" width="100%" height="700px" [snapSettings]='snapSettings' (created)="created()" [getConnectorDefaults]='connDefaults' [getNodeDefaults]='nodeDefaults' (dragEnter)="dragEnter($event)" (created)="diagramCreate($event)">
                    <e-nodes>
                        <e-node id='NewIdea' [height]=60 [offsetX]=300 [offsetY]=80 [shape]='terminator'>
                            <e-node-annotations>
                                <e-node-annotation content='Inicio'>
                                </e-node-annotation>
                            </e-node-annotations>
                        </e-node>
                        <e-node id='Meeting' [height]=60 [offsetX]=300 [offsetY]=160 [shape]='process'>
                            <e-node-annotations>
                                <e-node-annotation content='Paso 01'>
                                </e-node-annotation>
                            </e-node-annotations>
                        </e-node>
                        <e-node id='BoardDecision' [height]=60 [offsetX]=300 [offsetY]=240 [shape]='process'>
                            <e-node-annotations>
                                <e-node-annotation content='Paso 02'>
                                </e-node-annotation>
                            </e-node-annotations>
                        </e-node>
                        <e-node id='Project' [height]=60 [offsetX]=300 [offsetY]=330 [shape]='decision'>
                            <e-node-annotations>
                                <e-node-annotation content='Decision 01'>
                                </e-node-annotation>
                            </e-node-annotations>
                        </e-node>
                        <e-node id='End' [height]=60 [offsetX]=300 [offsetY]=430 [shape]='decision'>
                            <e-node-annotations>
                                <e-node-annotation content='Decision 02'>
                                </e-node-annotation>
                            </e-node-annotations>
                        </e-node>
                        <e-node id='node11' [height]=60 [offsetX]=530 [offsetY]=330 [shape]='process'>
                            <e-node-annotations>
                                <e-node-annotation content='Paso 03'>
                                </e-node-annotation>
                            </e-node-annotations>
                        </e-node>
                        <e-node id='transcation_entered' [height]=60 [offsetX]=300 [offsetY]=630 [shape]='terminator'>
                            <e-node-annotations>
                                <e-node-annotation content='Log transaction'>
                                </e-node-annotation>
                            </e-node-annotations>
                        </e-node>
                        <e-node id='node12' [height]=60 [offsetX]=480 [offsetY]=630 [shape]='process'>
                            <e-node-annotations>
                                <e-node-annotation content='Fin'>
                                </e-node-annotation>
                            </e-node-annotations>
                        </e-node>
                        <e-node id='transaction_completed' [height]=60 [offsetX]=300 [offsetY]=530 [shape]='process'>
                            <e-node-annotations>
                                <e-node-annotation content='Complete Transaction'>
                                </e-node-annotation>
                            </e-node-annotations>
                        </e-node>
                        <e-node id='Data' [height]=45 [offsetX]=110 [offsetY]=530 [shape]='data'>
                            <e-node-annotations>
                                <e-node-annotation content='Send e-mail' [margin]=margin>
                                </e-node-annotation>
                            </e-node-annotations>
                        </e-node>
                        <e-node id='node10' [height]=70 [offsetX]=475 [offsetY]=530 [shape]='directdata'>
                            <e-node-annotations>
                                <e-node-annotation content='Base de datos' [margin]='margin'>
                                </e-node-annotation>
                            </e-node-annotations>
                        </e-node>
                    </e-nodes>
                    <e-connectors>
                        <e-connector id='connector1' sourceID='NewIdea' targetID='Meeting'>
                        </e-connector>
                        <e-connector id='connector2' sourceID='Meeting' targetID='BoardDecision'>
                        </e-connector>
                        <e-connector id='connector3' sourceID='BoardDecision' targetID='Project'>
                        </e-connector>
                        <e-connector id='connector4' sourceID='Project' targetID='End'>
                            <e-connector-annotations>
                                <e-connector-annotation content='Yes' [style]=connAnnotStyle>
                                </e-connector-annotation>
                            </e-connector-annotations>
                        </e-connector>
                        <e-connector id='connector5' sourceID='End' targetID='transaction_completed'>
                            <e-connector-annotations>
                                <e-connector-annotation content='Yes' [style]=connAnnotStyle>
                                </e-connector-annotation>
                            </e-connector-annotations>
                        </e-connector>
                        <e-connector id='connector6' sourceID='transaction_completed' targetID='transcation_entered'>
                        </e-connector>
                        <e-connector id='connector7' sourceID='transaction_completed' targetID='Data'>
                        </e-connector>
                        <e-connector id='connector8' sourceID='transaction_completed' targetID='node10'>
                        </e-connector>
                        <e-connector id='connector9' sourceID='node11' targetID='Meeting' [segments]='segments'>
                        </e-connector>
                        <e-connector id='connector10' sourceID='End' targetID='node11' [segments]='segments1'>
                            <e-connector-annotations>
                                <e-connector-annotation content='No' [style]=connAnnotStyle>
                                </e-connector-annotation>
                            </e-connector-annotations>
                        </e-connector>
                        <e-connector id='connector11' sourceID='Project' targetID='node11'>
                            <e-connector-annotations>
                                <e-connector-annotation content='No' [style]=connAnnotStyle>
                                </e-connector-annotation>
                            </e-connector-annotations>
                        </e-connector>
                        <e-connector id='connector12' sourceID='transcation_entered' targetID='node12' [style]=strokeStyle>
                        </e-connector>
                    </e-connectors>
                </ejs-diagram>
            </div>
        </div>
    </div>
</div>

</p-panel>