<p-panel header="Seguimiento contratistas" >
    <p-tabView>
      <p-tabPanel header="Información">
        <app-aliados [valueEmpresa]="aliado" ></app-aliados>
      </p-tabPanel>
      <p-tabPanel header="Información General"> <!-- Salud Seguridad Trabajo -->
        <app-informacion-general 
          [repLegal]="this.aliadoInformacion.representante_legal" [numTrabajadores]="this.aliadoInformacion.numero_trabajadores" [numTrabajadoresAsig]="this.aliadoInformacion.numero_trabajadores_asignados" (dataRepLegal)="onReciveData($event, 'repLegal')" (dataNumTrabajadores)="onReciveData($event, 'numTrabajadores')" (dataNumTrabajadoresAsig)="onReciveData($event, 'numTrabajadoresAsig')"></app-informacion-general>
      </p-tabPanel>
      <p-tabPanel header="Equipo SST"> <!-- Salud Seguridad Trabajo -->
        <app-equipo-sst-list [alidadoId]="id"></app-equipo-sst-list>
      </p-tabPanel>
      <p-tabPanel header="Cargue Documentos">
        <app-cargue-documentos [analisisId]="id" (idDoc)="reciveIdDoc($event)" (fechaVencimientoArlEvent)="reciveFechaArl($event)" (fechaVencimientoSstEvent)="reciveFechaSst($event)" (fechaVencimientoCertExternaEvent)="reciveFechaCertExterna($event)" [documentos]="documentos" [fechaVencimientoArl]="getFecha('arl')" [fechaVencimientoSst]="getFecha('sst')" [fechaVencimientoCertExterna]="getFecha('certExt')"></app-cargue-documentos>
      </p-tabPanel>
      <p-tabPanel header="Actividades Contratadas" *ngIf="this.aliado.tipo_persona!='Natural'">
        <app-actividades-contratadas [selectActividad]="this.aliadoInformacion.actividad_contratada" (data)="onReciveData($event, 'actividades')"></app-actividades-contratadas>
      </p-tabPanel>
      <p-tabPanel header="División/Localidad" *ngIf="this.aliado.tipo_persona!='Natural'">
        <app-localidades [selectDivision]="this.aliadoInformacion.division" [selectLocalidad]="this.aliadoInformacion.localidad" (data)="onReciveData($event, 'division')" (dataLocalidad)="onReciveData($event, 'localidad')"></app-localidades>
      </p-tabPanel>
      <p-tabPanel header="Clasificación">
        <app-calificacion [selectCalificacion]="this.aliadoInformacion.calificacion" (data)="onReciveData($event, 'calificacion')"></app-calificacion>
      </p-tabPanel>
      <p-tabPanel header="Gestión del contrato">
        <app-asignacion-colider [dataIn]="this.aliadoInformacion.colider" (coliderData)="onReciveData($event, 'colider')"></app-asignacion-colider>
      </p-tabPanel>
      <p-tabPanel header="Control de riesgo">
        <app-control-riesgo></app-control-riesgo>
      </p-tabPanel>
      <p-tabPanel header="Subcontratistas">
        <app-subcontratistas></app-subcontratistas>
      </p-tabPanel>
    </p-tabView>
</p-panel>
<ng-container>
  <button pButton type="button" icon="fa fa-floppy-o" title="Guardar Aliado"
      (click)="actualizarAliado()" class="float-btn"></button>
</ng-container>