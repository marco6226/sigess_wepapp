<s-dataNotFound *ngIf="!actividadesList || actividadesList?.length <= 0" icon="fa-handshake-o" message="No se encontraron registros de actividades contratadas">
    <button pButton [disabled]="!edit" type="button" (click)="abrirDialogo('crear')" icon="fa fa-plus" label="Agregar Actividad"></button>
</s-dataNotFound>

<p-panel header="Lista de Actividades Contratadas" *ngIf="actividadesList?.length > 0">
    <p-tabView>
        <p-table #dt [value]="actividadesList" responsiveLayout="scroll">
            <ng-template pTemplate="header" let-columns>
                <tr>
                    <th style="width: 3rem">
                        #
                    </th>
                    <th [pSortableColumn]="'nombre'">
                        Nombre Actividad
                        <p-sortIcon [field]="'nombre'"></p-sortIcon>
                    </th>
                </tr>
                <tr>
                    <td>
                        <!-- <input placeholder="Buscar" pInputText type="text" (input)="dt.filter($event.target.value, 'id', 'contains')"> -->
                    </td>
                    <td>
                        <input placeholder="Buscar" pInputText type="text" (input)="dt.filter($event.target.value, 'nombre', 'contains')">
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-rowData  let-i="rowIndex">
                <tr>
                    <td class="my-center-text">
                        {{i+1}}
                    </td>
                    <td>
                        {{rowData.nombre}}
                    </td> 
                </tr>
            </ng-template>
            <ng-template pTemplate="summary" let-rowData>
                <button [disabled]="!edit" pButton type="button" icon="fa fa-pencil" (click)="abrirDialogo()" label="Modificar Actividades"></button>    
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="9" class="p-text-center">No hay registro con los términos de filtro usados
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </p-tabView>
</p-panel>
<br>
<p-dialog header="Lista de Actividades" [(visible)]="visibleDlg" [contentStyle]="{'max-height':'70%'}" [style]="{width: '50%', height: '70%'}">
    
    <div >
        <label for="" class="active">Actividades contratadas</label>
    </div>

    <!-- <div class="contenedor" style="width:802px;margin-bottom:10px" *ngFor="let data of actividadesContratadasList">
        <div class="contenedor">
            <p-checkbox name="group1" [value]="data.label" [label]="data.label" [(ngModel)]="selectActividad" ></p-checkbox>
        </div>
        <p-tree  [value]="nodes1" selectionMode="checkbox" [(selection)]="selectActividad"></p-tree>
    </div> -->

    <div>
        <p-tree id="tree-comp" [value]="actividadesContratadasList" selectionMode="checkbox" [(selection)]="selectActividad" layout="vertical"></p-tree>
    </div>
    <p-footer>
        <button pButton type="button" (click)="agregarActividad()" label="Aceptar"></button>
        <button pButton type="button" (click)="cerrarDialogo()" class="ui-button-secondary" label="Cancelar"></button>
    </p-footer>

    <!-- <h5>Multiple</h5> -->
    <!-- <p-treeSelect [(ngModel)]="selectActividad" [options]="nodes1" display="chip" [metaKeySelection]="false" selectionMode="checkbox"
        placeholder="Select Item"></p-treeSelect> -->
    <!-- <h5>Multiple</h5> -->
    
</p-dialog>


<s-dataNotFound *ngIf="!actividadesSubList || actividadesSubList?.length <= 0" icon="fa-handshake-o" message="No se encontraron registros de actividades Subcontratadas">
    <button [disabled]="!edit" pButton type="button" (click)="abrirDialogoSub('crear')" icon="fa fa-plus" label="Agregar Actividad"></button>
</s-dataNotFound>

<p-panel header="Lista de Actividades Subcontratadas" *ngIf="actividadesSubList?.length > 0">
    <p-tabView>
        <p-table #dt [value]="actividadesSubList" responsiveLayout="scroll">
            <ng-template pTemplate="header" let-columns>
                <tr>
                    <th style="width: 3rem">
                        #
                    </th>
                    <th [pSortableColumn]="'nombre'">
                        Nombre Actividad
                        <p-sortIcon [field]="'nombre'"></p-sortIcon>
                    </th>
                </tr>
                <tr>
                    <td>
                        <!-- <input placeholder="Buscar" pInputText type="text" (input)="dt.filter($event.target.value, 'id', 'contains')"> -->
                    </td>
                    <td>
                        <input placeholder="Buscar" pInputText type="text" (input)="dt.filter($event.target.value, 'nombre', 'contains')">
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-rowData  let-i="rowIndex">
                <tr>
                    <td class="my-center-text">
                        {{i+1}}
                    </td>
                    <td>
                        {{rowData.nombre}}
                    </td> 
                </tr>
            </ng-template>
            <ng-template pTemplate="summary" let-rowData>
                <button [disabled]="!edit" pButton type="button" icon="fa fa-pencil" (click)="abrirDialogoSub()" label="Modificar Actividades"></button>    
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="9" class="p-text-center">No hay registro con los términos de filtro usados
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </p-tabView>
</p-panel>

<p-dialog header="Lista de Actividades Subcontratadas" [(visible)]="visibleDlgSub" [contentStyle]="{'max-height':'70%'}" [style]="{width: '50%', height: '70%'}">
    
    <div class="input-field">
        <label for="" class="active">Actividades contratadas</label>
    </div>
    <div>
        <p-tree  [value]="actividadesContratadasList" selectionMode="checkbox" [(selection)]="selectActividadSub" layout="vertical"></p-tree>
    </div>
    <!-- <div class="ui-g" style="width:350px;margin-bottom:10px" *ngFor="let data of actividadesContratadasList">
        <div class="ui-g-12">
            <p-checkbox name="group1" [value]="data.label" [label]="data.label" [(ngModel)]="selectActividadSub"></p-checkbox>
        </div>
    </div> -->

    <p-footer>
        <button pButton type="button" (click)="agregarActividadSub()" label="Aceptar"></button>
        <button pButton type="button" (click)="cerrarDialogoSub()" class="ui-button-secondary" label="Cancelar"></button>
    </p-footer>
</p-dialog>