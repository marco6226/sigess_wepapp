<p-messages [(value)]="msgs" [closable]="true"></p-messages>

<p>Certificación de estándares mínimos expedido por la ARL</p>

<div class="grid-container">
    <div class="grid-item-1">
        <button pButton type="button" (click)="showDialog('arl')" icon="fa fa-plus" label="Adjuntar soporte" style="margin-bottom: 10px;" ></button>
        <s-documentoUpload [(visible)]="visibleDlgCertificadoARL" [modParam]="analisisId" [modulo]="modulo" tipoEvidencia="arl" (onUpload)="onUpload($event)"></s-documentoUpload>
    </div>
    
    <div class="grid-item-2">
        <label for="fechaVencimientoArl">Fecha Vencimiento: </label>
        <p-calendar [(ngModel)]="this.fecha_vencimiento_arl" (onSelect)="onSelectArl($event)" [yearNavigator]="true" yearRange="1900:2050" [monthNavigator]="true" [locale]="localeES" dateFormat="dd/mm/yy" [touchUI]="true" [readonlyInput]="true" inputId="touchui"></p-calendar>    
    </div>
</div>

<div class="ui-g" style="margin-top: 10px;">
    <div class="ui-g-12 ui-sm-12 ui-md-10">
        <div *ngFor="let doc of directorios">
            <table class="dwrapper" *ngIf="doc!.documento.proceso=='arl'">
                <tr>
                    <td>
                        <span [class]="doc.extension?.icono" [style.color]="doc.extension?.color"></span>
                        <a style="margin-left: 10px;" (click)="descargarDocumento(doc.documento)">{{doc.documento.nombre}}</a>
                    </td>              
                </tr>
                <tr>
                    <td colspan="2">
                        <textarea  pInputTextarea placeholder="Descripción" [(ngModel)]="doc.documento.descripcion" maxlength="253"></textarea>
                        <label for="">{{doc.fechaCreacion | date:'yyyy-MM-dd'}}</label>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>

<p>Licencia SST</p>

<div class="grid-container">
    <div class="grid-item-1">
        <button pButton type="button" (click)="showDialog('licencia')" icon="fa fa-plus" label="Adjuntar soporte" style="margin-bottom: 10px;"></button>
        <s-documentoUpload [(visible)]="visibleDlgLicenciaSST" [modParam]="analisisId" [modulo]="modulo" tipoEvidencia="licencia" (onUpload)="onUpload($event)"></s-documentoUpload>
    </div>

    <div class="grid-item-2">
        <label for="fechaVencimientoSst">Fecha Vencimiento: </label>
        <p-calendar [(ngModel)]="fecha_vencimiento_sst" (onSelect)="onSelectSst($event)" [yearNavigator]="true" yearRange="1900:2050" [monthNavigator]="true" [locale]="localeES" dateFormat="dd/mm/yy" [touchUI]="true" [readonlyInput]="true" inputId="touchui"></p-calendar>
    </div>
</div>

<div class="ui-g" style="margin-top: 10px;">
    <div class="ui-g-12 ui-sm-12 ui-md-10">
        <div *ngFor="let doc of directorios">
            <table class="dwrapper" *ngIf="doc!.documento.proceso=='licencia'">
                <tr>
                    <td>
                        <span [class]="doc.extension?.icono" [style.color]="doc.extension?.color"></span>
                        <a style="margin-left: 10px;" (click)="descargarDocumento(doc.documento)">{{doc.documento.nombre}}</a>
                    </td>              
                </tr>
                <tr>
                    <td colspan="2">
                        <textarea  pInputTextarea placeholder="Descripción" [(ngModel)]="doc.documento.descripcion" maxlength="253"></textarea>
                        <label for="">{{doc.fechaCreacion | date:'yyyy-MM-dd'}}</label>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>
<a style="visibility: hidden" id="dwldLink"></a>

<!-- <button (click)="test()">test</button> -->